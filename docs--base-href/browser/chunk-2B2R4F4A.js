import{a as k}from"./chunk-F5SMGSP3.js";import{a as $,b as h,c as j,d as z,e as H,f as J,g as K,h as Q,i as W,j as X}from"./chunk-C654DL67.js";import"./chunk-RKKYYBNY.js";import{j as G}from"./chunk-SDYGKTLN.js";import{h as R,m as P}from"./chunk-CPMMQVYM.js";import{$a as S,Ab as s,Bb as u,Ja as t,Pb as O,Qb as V,W as q,Z as N,Za as c,bb as D,db as m,gb as a,hb as l,ib as E,kb as L,lb as U,sa as A,ub as o,vb as y,wb as d,yb as M,zb as B}from"./chunk-EV7S73YM.js";var F=(e,r)=>({"is-valid":e,"is-invalid":r});function Y(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"register.name is required"),"."))}function Z(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d(" ",u(2,1,"register.name should be more or equal tha 2 chars"),". "))}function ee(e,r){if(e&1&&(a(0,"div",8),c(1,Y,3,3,"p",21)(2,Z,3,3),l()),e&2){let i,p=U();t(),m(1,(i=p.singUp.get("name"))!=null&&i.getError("required")?1:(i=p.singUp.get("name"))!=null&&i.getError("minlength")?2:-1)}}function ne(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"login.email is required"),"."))}function te(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"login.enter valid email"),"."))}function ie(e,r){if(e&1&&(a(0,"div",8),c(1,ne,3,3,"p",21)(2,te,3,3),l()),e&2){let i,p=U();t(),m(1,(i=p.singUp.get("email"))!=null&&i.getError("required")?1:(i=p.singUp.get("email"))!=null&&i.getError("email")?2:-1)}}function le(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"login.password is required"),"."))}function ae(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"login.enter valid password"),"."))}function oe(e,r){if(e&1&&(a(0,"div",8),c(1,le,3,3,"p",21)(2,ae,3,3),l()),e&2){let i,p=U();t(),m(1,(i=p.singUp.get("password"))!=null&&i.getError("required")?1:(i=p.singUp.get("password"))!=null&&i.getError("pattern")?2:-1)}}function re(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"register.age is required"),"."))}function pe(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d(" ",u(2,1,"register.age should be more or equal than 20 year"),". "))}function se(e,r){if(e&1&&(a(0,"div",8),c(1,re,3,3,"p",21)(2,pe,3,3),l()),e&2){let i,p=U();t(),m(1,(i=p.singUp.get("age"))!=null&&i.getError("required")?1:(i=p.singUp.get("age"))!=null&&i.getError("min")?2:-1)}}function ue(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"register.phone is required"),"."))}function me(e,r){e&1&&(a(0,"p",21),o(1),s(2,"translate"),l()),e&2&&(t(),d("",u(2,1,"register.enter valid phone"),"."))}function de(e,r){if(e&1&&(a(0,"div",8),c(1,ue,3,3,"p",21)(2,me,3,3),l()),e&2){let i,p=U();t(),m(1,(i=p.singUp.get("phone"))!=null&&i.getError("required")?1:(i=p.singUp.get("phone"))!=null&&i.getError("pattern")?2:-1)}}function ge(e,r){e&1&&E(0,"span",18)}function ce(e,r){if(e&1&&(a(0,"p",19),o(1),l()),e&2){let i=U();t(),d(" ",i.messgerror," ")}}function _e(e,r){if(e&1&&(a(0,"p",20),o(1),l()),e&2){let i=U();t(),d(" ",i.messsuccess," ")}}var be=(()=>{class e{constructor(){this._UserService=q(k),this._FormBuilder=q(W),this._Router=q(G),this._PLATFORM_ID=q(A),this.messgerror="",this.messsuccess="",this.isloading=!1,this.singUp=this._FormBuilder.group({name:[null,[h.required,h.minLength(2)]],email:[null,[h.required,h.email]],password:[null,[h.required,h.pattern(/^\w{3,}$/)]],age:[null,[h.required,h.min(20)]],phone:[null,[h.required,h.pattern(/^01[125][0-9]{8}$/)]]})}singUpfunction(){this.singUp.valid?(this.isloading=!0,this.unsub=this._UserService.singup(this.singUp.value).subscribe({next:i=>{this.isloading=!1,this.messsuccess=i.msg,this.messgerror="",i.msg=="done"&&setTimeout(()=>{this._Router.navigate(["/signin"])},1e3)},error:i=>{console.log(i),this.isloading=!1,this.messgerror=i.error.msg,this.messsuccess=""}})):this.singUp.markAllAsTouched()}LangText(){if(P(this._PLATFORM_ID)){if(localStorage.getItem("lang")!=null){if(localStorage.getItem("lang")=="en")return!0;if(localStorage.getItem("lang")=="ar")return!1}else if(localStorage.getItem("lang")==null)return!0}return!1}ngOnDestroy(){this.unsub?.unsubscribe()}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275cmp=N({type:e,selectors:[["app-signup"]],standalone:!0,features:[M],decls:44,vars:54,consts:[[1,"text-main","my-5","py-5"],[1,"theform","container","widthtitle","p-3","rounded-5","shadow-lg","bg-sign","my-5"],[1,"title"],[1,"my-3","border-bottom","border-secondary"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["id","name","type","sec","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","age"],["id","age","type","number","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-secondary","d-block"],[1,"fas","fa-spin","fa-spinner"],[1,"text-center","alert","alert-danger","w-100","mx-auto"],[1,"text-center","alert","alert-success","w-50","mx-auto"],[1,"m-0"]],template:function(p,n){if(p&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"b"),o(5),s(6,"translate"),l()()(),a(7,"form",4),L("ngSubmit",function(){return n.singUpfunction()}),a(8,"div",5)(9,"label",6),o(10),s(11,"translate"),l(),E(12,"input",7),c(13,ee,3,1,"div",8),l(),a(14,"div",5)(15,"label",9),o(16),s(17,"translate"),l(),E(18,"input",10),c(19,ie,3,1,"div",8),l(),a(20,"div",5)(21,"label",11),o(22),s(23,"translate"),l(),E(24,"input",12),c(25,oe,3,1,"div",8),l(),a(26,"div",5)(27,"label",13),o(28),s(29,"translate"),l(),E(30,"input",14),c(31,se,3,1,"div",8),l(),a(32,"div",5)(33,"label",15),o(34),s(35,"translate"),l(),E(36,"input",16),c(37,de,3,1,"div",8),l(),a(38,"button",17),o(39),s(40,"translate"),c(41,ge,1,0,"span",18),l()(),c(42,ce,2,1,"p",19)(43,_e,2,1,"p",20),l()()),p&2){let g,x,_,T,f,b,C,w,v,I;t(5),y(u(6,25,"register.Create Account")),t(2),S("formGroup",n.singUp),t(3),y(u(11,27,"register.Full Name")),t(2),S("ngClass",B(39,F,!((g=n.singUp.get("name"))!=null&&g.errors)&&(((g=n.singUp.get("name"))==null?null:g.touched)||((g=n.singUp.get("name"))==null?null:g.dirty)),((g=n.singUp.get("name"))==null?null:g.errors)&&(((g=n.singUp.get("name"))==null?null:g.touched)||((g=n.singUp.get("name"))==null?null:g.dirty)))),t(),m(13,(x=n.singUp.get("name"))!=null&&x.errors&&((x=n.singUp.get("name"))!=null&&x.touched||(x=n.singUp.get("name"))!=null&&x.dirty)?13:-1),t(3),y(u(17,29,"login.email")),t(2),S("ngClass",B(42,F,!((_=n.singUp.get("email"))!=null&&_.errors)&&(((_=n.singUp.get("email"))==null?null:_.touched)||((_=n.singUp.get("email"))==null?null:_.dirty)),((_=n.singUp.get("email"))==null?null:_.errors)&&(((_=n.singUp.get("email"))==null?null:_.touched)||((_=n.singUp.get("email"))==null?null:_.dirty)))),t(),m(19,(T=n.singUp.get("email"))!=null&&T.errors&&((T=n.singUp.get("email"))!=null&&T.touched||(T=n.singUp.get("email"))!=null&&T.dirty)?19:-1),t(3),y(u(23,31,"login.password")),t(2),S("ngClass",B(45,F,!((f=n.singUp.get("password"))!=null&&f.errors)&&(((f=n.singUp.get("password"))==null?null:f.touched)||((f=n.singUp.get("password"))==null?null:f.dirty)),((f=n.singUp.get("password"))==null?null:f.errors)&&(((f=n.singUp.get("password"))==null?null:f.touched)||((f=n.singUp.get("password"))==null?null:f.dirty)))),t(),m(25,(b=n.singUp.get("password"))!=null&&b.errors&&((b=n.singUp.get("password"))!=null&&b.touched||(b=n.singUp.get("password"))!=null&&b.dirty)?25:-1),t(3),y(u(29,33,"register.age")),t(2),S("ngClass",B(48,F,!((C=n.singUp.get("age"))!=null&&C.errors)&&(((C=n.singUp.get("age"))==null?null:C.touched)||((C=n.singUp.get("age"))==null?null:C.dirty)),((C=n.singUp.get("age"))==null?null:C.errors)&&(((C=n.singUp.get("age"))==null?null:C.touched)||((C=n.singUp.get("age"))==null?null:C.dirty)))),t(),m(31,(w=n.singUp.get("age"))!=null&&w.errors&&((w=n.singUp.get("age"))!=null&&w.touched||(w=n.singUp.get("age"))!=null&&w.dirty)?31:-1),t(3),y(u(35,35,"register.phone")),t(2),S("ngClass",B(51,F,!((v=n.singUp.get("phone"))!=null&&v.errors)&&(((v=n.singUp.get("phone"))==null?null:v.touched)||((v=n.singUp.get("phone"))==null?null:v.dirty)),((v=n.singUp.get("phone"))==null?null:v.errors)&&(((v=n.singUp.get("phone"))==null?null:v.touched)||((v=n.singUp.get("phone"))==null?null:v.dirty)))),t(),m(37,(I=n.singUp.get("phone"))!=null&&I.errors&&((I=n.singUp.get("phone"))!=null&&I.touched||(I=n.singUp.get("phone"))!=null&&I.dirty)?37:-1),t(),D("ms-auto",n.LangText())("me-auto",!n.LangText()),t(),d(" ",u(40,37,"register.singUp")," "),t(2),m(41,n.isloading?41:-1),t(),m(42,n.messgerror?42:-1),t(),m(43,n.messsuccess?43:-1)}},dependencies:[X,H,$,J,j,z,K,Q,R,V,O]})}}return e})();export{be as SignupComponent};
