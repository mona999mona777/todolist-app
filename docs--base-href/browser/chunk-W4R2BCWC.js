import{a as Y,b as U,c as z,d as J,e as K,g as Q,h as X,i as Z,j as ee}from"./chunk-C654DL67.js";import{a as B}from"./chunk-RKKYYBNY.js";import{a as P,j as L}from"./chunk-SDYGKTLN.js";import{h as G}from"./chunk-CPMMQVYM.js";import{$a as C,Ab as r,Bb as p,Ja as i,Pb as R,Q as k,Qb as W,W as w,Z as V,Za as h,db as b,eb as A,fb as O,gb as o,ha as F,hb as d,ia as q,ib as v,jb as D,kb as I,lb as f,pb as E,ub as u,vb as j,wb as m,yb as H,zb as T}from"./chunk-EV7S73YM.js";var te=(()=>{class t{constructor(){this._HttpClient=w(P),this._Router=w(L)}addNode(n){return this._HttpClient.post(`${B.baseUrl}notes`,n)}getUserNode(){return this._HttpClient.get(`${B.baseUrl}notes`)}deleteNode(n){return this._HttpClient.delete(`${B.baseUrl}notes/${n}`)}updateNote(n,l){return this._HttpClient.put(`${B.baseUrl}notes/${n}`,l)}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ie=(t,s)=>s._id,M=(t,s)=>({"is-valid":t,"is-invalid":s});function oe(t,s){t&1&&(o(0,"p",29),u(1),r(2,"translate"),d()),t&2&&(i(),m(" ",p(2,1,"node.title is required"),". "))}function de(t,s){if(t&1&&(o(0,"div",17),h(1,oe,3,3,"p",29),d()),t&2){let n,l=f();i(),b(1,(n=l.addnode.get("title"))!=null&&n.getError("required")?1:-1)}}function le(t,s){t&1&&(o(0,"p",29),u(1),r(2,"translate"),d()),t&2&&(i(),m(" ",p(2,1,"node.content is required"),". "))}function ae(t,s){if(t&1&&(o(0,"div",17),h(1,le,3,3,"p",29),d()),t&2){let n,l=f();i(),b(1,(n=l.addnode.get("content"))!=null&&n.getError("required")?1:-1)}}function re(t,s){if(t&1){let n=D();o(0,"div",30)(1,"div",31)(2,"h3")(3,"span",32),u(4),r(5,"translate"),d()(),o(6,"h4"),u(7),d(),o(8,"h5",32),u(9),r(10,"translate"),d(),o(11,"p"),u(12),d(),o(13,"div",33)(14,"button",34),I("click",function(){let e=F(n).$implicit,a=f(2);return q(a.setvalues(e))}),u(15),r(16,"translate"),d(),o(17,"button",35),I("click",function(){let e=F(n).$implicit,a=f(2);return q(a.deleteNode(e._id))}),u(18),r(19,"translate"),d()()()()}if(t&2){let n=s.$implicit;i(4),m("",p(5,6,"node.Title")," :"),i(3),j(n.title),i(2),m(" ",p(10,8,"node.subject")," : "),i(3),j(n.content),i(3),m(" ",p(16,10,"node.Update")," "),i(3),m(" ",p(19,12,"node.Delete")," ")}}function pe(t,s){if(t&1&&(o(0,"div",22),A(1,re,20,14,"div",30,ie),d()),t&2){let n=f();i(),O(n.allUserNodes)}}function ue(t,s){t&1&&(o(0,"div",23)(1,"div",36),v(2,"img",37),d(),o(3,"div",38)(4,"div",39)(5,"p",40),u(6),r(7,"translate"),v(8,"i",41),d()()()()),t&2&&(i(6),m(" ",p(7,1,"node.Create Your Node NOW")," "))}function se(t,s){t&1&&(o(0,"p",29),u(1),r(2,"translate"),d()),t&2&&(i(),m("",p(2,1,"node.title is required"),"."))}function me(t,s){if(t&1&&(o(0,"div",17),h(1,se,3,3,"p",29),d()),t&2){let n,l=f();i(),b(1,(n=l.updatenode.get("title"))!=null&&n.getError("required")?1:-1)}}function ce(t,s){t&1&&(o(0,"p",29),u(1),r(2,"translate"),d()),t&2&&(i(),m(" ",p(2,1,"node.content is required"),". "))}function ge(t,s){if(t&1&&(o(0,"div",17),h(1,ce,3,3,"p",29),d()),t&2){let n,l=f();i(),b(1,(n=l.updatenode.get("content"))!=null&&n.getError("required")?1:-1)}}var Be=(()=>{class t{constructor(){this._FormBuilder=w(Z),this._NodeService=w(te),this.allUserNodes=[],this.data={},this.addnode=this._FormBuilder.group({title:[null,[U.required]],content:[null,[U.required]]}),this.updatenode=this._FormBuilder.group({_id:[null],title:[null,[U.required]],content:[null,[U.required]]})}ngOnInit(){this.getUserNode()}getUserNode(){this.unsubget=this._NodeService.getUserNode().subscribe({next:n=>{this.allUserNodes=n.notes},error:n=>{n.error.msg=="not notes found"?this.allUserNodes=[]:console.log("getNodeError",n)}})}addnodes(){this.addnode.valid?this.unsubadd=this._NodeService.addNode(this.addnode.value).subscribe({next:n=>{this.addnode.reset(),$("#exampleModal").modal("hide"),this.getUserNode()},error:n=>{console.log(n)}}):this.addnode.markAllAsTouched()}deleteNode(n){this.unsubdelete=this._NodeService.deleteNode(n).subscribe({next:l=>{this.getUserNode()},error:l=>{console.log(l)}})}setvalues(n){this.updatenode.patchValue(n)}updateNode(){if(this.updatenode.valid){let{_id:n,title:l,content:e}=this.updatenode.value;this.unsubupdate=this._NodeService.updateNote(n,{title:l,content:e}).subscribe({next:a=>{$("#updateexampleModal").modal("hide"),this.getUserNode()},error:a=>{console.log(a)}})}else this.updatenode.markAllAsTouched()}ngOnDestroy(){this.unsubget?.unsubscribe,this.unsubadd?.unsubscribe,this.unsubdelete?.unsubscribe,this.unsubupdate?.unsubscribe}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=V({type:t,selectors:[["app-node"]],standalone:!0,features:[H],decls:59,vars:59,consts:[["id","body",1,"girl-light","py-5","text-main","w-100"],[1,"py-5"],[1,"container","widthnode","my-5","shadow-lg","rounded-5","p-3","bg-sign"],[1,"title"],[1,"text-main","my-3","border-bottom","border-secondary"],[1,"the-input","my-2"],["readonly","","type","text","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"form-control","widthinput","mx-auto","my-3",3,"placeholder"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","addmodal",1,"modal-content","girl-light"],[1,"d-flex","justify-content-between","align-items-center","p-3","border-bottom","border-secondary-subtle"],["id","exampleModalLabel",1,"modal-title","fs-5","text-decoration-underline"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"my-3"],["type","text","formControlName","title",1,"form-control",3,"ngClass","placeholder"],[1,"alert","alert-danger"],["rows","5","formControlName","content",1,"form-control",3,"ngClass","placeholder"],[1,"modal-footer"],["type","submit",1,"btn","btn-danger"],[1,"the-body"],[1,"row","g-3","py-3"],[1,"row"],[1,"body-update"],["id","updateexampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content","bg-warning-subtle"],[1,"d-flex","justify-content-between","p-3","border-bottom","border-secondary-subtle","align-items-center"],["type","submit",1,"btn","btn-warning","text-white"],[1,"m-0"],[1,"col-md-3"],[1,"bg-white","border","border-secondary","text-main","p-3","rounded-3","overflow-hidden"],[1,"text-decoration-underline","text-main"],[1,"node-footer","d-flex","justify-content-between","align-items-center"],["type","button","data-bs-toggle","modal","data-bs-target","#updateexampleModal",1,"btn","btn-warning","text-white",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"col-4"],["src","./assets/images/logo.jpg","alt","logo image for no nodes inside",1,"w-100","rounded-circle","border","border-secondary","border-3","shadow-lg"],[1,"col-8","d-flex","justify-content-center","align-items-center"],[1,"bg-gradient","shadow-lg","rounded-5","w-100","m-3","h-100","d-flex","justify-content-center","align-items-center"],[1,"text-main","h2"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"fa-solid","fa-arrow-up","text-light","border","border-secondary","border-3","p-1","rounded-2","shadow-lg"]],template:function(l,e){if(l&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"b"),u(6),r(7,"translate"),d()()(),o(8,"div",5),v(9,"input",6),r(10,"translate"),o(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"h1",11),u(16),r(17,"translate"),d(),v(18,"button",12),d(),o(19,"form",13),I("ngSubmit",function(){return e.addnodes()}),o(20,"div",14)(21,"div",15),v(22,"input",16),r(23,"translate"),h(24,de,2,1,"div",17),d(),o(25,"div",15),v(26,"textarea",18),r(27,"translate"),h(28,ae,2,1,"div",17),d()(),o(29,"div",19)(30,"button",20),u(31),r(32,"translate"),d()()()()()()(),o(33,"div",21),h(34,pe,3,0,"div",22)(35,ue,9,3,"div",23),d()()(),o(36,"div",24)(37,"div",25)(38,"div",8)(39,"div",26)(40,"div",27)(41,"h1",11),u(42),r(43,"translate"),d(),v(44,"button",12),d(),o(45,"form",13),I("ngSubmit",function(){return e.updateNode()}),o(46,"div",14)(47,"div",15),v(48,"input",16),r(49,"translate"),h(50,me,2,1,"div",17),d(),o(51,"div",15),v(52,"textarea",18),r(53,"translate"),h(54,ge,2,1,"div",17),d()(),o(55,"div",19)(56,"button",28),u(57),r(58,"translate"),d()()()()()()()()),l&2){let a,N,c,x,g,y,_,S;i(6),m("",p(7,27,"node.todolist")," : "),i(3),E("placeholder","",p(10,29,"node.Add Node"),"................"),i(7),m(" ",p(17,31,"node.Add Node")," "),i(3),C("formGroup",e.addnode),i(3),E("placeholder","",p(23,33,"node.Enter Node Title"),".........."),C("ngClass",T(47,M,!((a=e.addnode.get("title"))!=null&&a.errors)&&(((a=e.addnode.get("title"))==null?null:a.touched)||((a=e.addnode.get("title"))==null?null:a.dirty)),((a=e.addnode.get("title"))==null?null:a.errors)&&(((a=e.addnode.get("title"))==null?null:a.touched)||((a=e.addnode.get("title"))==null?null:a.dirty)))),i(2),b(24,(N=e.addnode.get("title"))!=null&&N.errors&&((N=e.addnode.get("title"))!=null&&N.touched||(N=e.addnode.get("title"))!=null&&N.dirty)?24:-1),i(2),E("placeholder","",p(27,35,"node.Enter Node Content"),"........"),C("ngClass",T(50,M,!((c=e.addnode.get("content"))!=null&&c.errors)&&(((c=e.addnode.get("content"))==null?null:c.touched)||((c=e.addnode.get("content"))==null?null:c.dirty)),((c=e.addnode.get("content"))==null?null:c.errors)&&(((c=e.addnode.get("content"))==null?null:c.touched)||((c=e.addnode.get("content"))==null?null:c.dirty)))),i(2),b(28,(x=e.addnode.get("content"))!=null&&x.errors&&((x=e.addnode.get("content"))!=null&&x.touched||(x=e.addnode.get("content"))!=null&&x.dirty)?28:-1),i(3),m(" ",p(32,37,"node.Save Node")," "),i(3),b(34,e.allUserNodes.length>0?34:-1),i(),b(35,e.allUserNodes.length==0?35:-1),i(7),m(" ",p(43,39,"node.Update Node")," "),i(3),C("formGroup",e.updatenode),i(3),E("placeholder","",p(49,41,"node.Enter Node Title"),".........."),C("ngClass",T(53,M,!((g=e.updatenode.get("title"))!=null&&g.errors)&&(((g=e.updatenode.get("title"))==null?null:g.touched)||((g=e.updatenode.get("title"))==null?null:g.dirty)),((g=e.updatenode.get("title"))==null?null:g.errors)&&(((g=e.updatenode.get("title"))==null?null:g.touched)||((g=e.updatenode.get("title"))==null?null:g.dirty)))),i(2),b(50,(y=e.updatenode.get("title"))!=null&&y.errors&&((y=e.updatenode.get("title"))!=null&&y.touched||(y=e.updatenode.get("title"))!=null&&y.dirty)?50:-1),i(2),E("placeholder","",p(53,43,"node.Enter Node Content"),"........"),C("ngClass",T(56,M,!((_=e.updatenode.get("content"))!=null&&_.errors)&&(((_=e.updatenode.get("content"))==null?null:_.touched)||((_=e.updatenode.get("content"))==null?null:_.dirty)),((_=e.updatenode.get("content"))==null?null:_.errors)&&(((_=e.updatenode.get("content"))==null?null:_.touched)||((_=e.updatenode.get("content"))==null?null:_.dirty)))),i(2),b(54,(S=e.updatenode.get("content"))!=null&&S.errors&&((S=e.updatenode.get("content"))!=null&&S.touched||(S=e.updatenode.get("content"))!=null&&S.dirty)?54:-1),i(3),m(" ",p(58,45,"node.Update Node")," ")}},dependencies:[ee,K,Y,z,J,Q,X,G,W,R],styles:["@media (max-width: 992px){.widthnode[_ngcontent-%COMP%]{width:95%}.widthinput[_ngcontent-%COMP%]{width:90%}}@media (min-width: 992px){.widthnode[_ngcontent-%COMP%]{width:75%}.widthinput[_ngcontent-%COMP%]{width:50%}}"]})}}return t})();export{Be as NodeComponent};
